<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../css/mall/css/swiper.min.css">
    <link rel="stylesheet" href="../../css/mall/css/iconfont.css">
    <link rel="stylesheet" href="../../css/mall/css/common.css">
    <link rel="stylesheet" href="../../css/mall/styles/header.css">
    <link rel="stylesheet" href="../../css/mall/css/bootstrap-modal.css">
    <link rel="stylesheet" href="../../css/mall/styles/order-detail.css">
    <link rel="stylesheet" href="../../css/admin/plugins/sweetalert/sweetalert.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/grzx.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/css.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/zt.css"/>
</head>
<body>
<header id="header">
    <div class="center">
        <ul class="fl">
            <li><a href="/index">新蜂商城</a></li>
        </ul>
        <div class="fr">

            <div class="user">
                <ul class="selector">
                    <li>
                        <a href="center.html">
                            个人中心
                        </a>
                    </li>
                    <li>
                        <a href="/orders">
                            我的订单
                        </a>
                    </li>
                    <li>
                        <a href="/logout">
                            退出登录
                        </a>
                    </li>
                </ul>
                <a href="##" class="username">
                    十三
                    <i class="iconfont icon-down"></i>
                </a>
            </div>
            <div class="shopcart">
                <a href="cart.html" style="color: white;"><i class="iconfont icon-cart"></i>
                    购物车(
                    0
                    )</a>
            </div>


        </div>
    </div>
</header>
<!-- nav -->
<!--<nav th:replace="mall/header::nav-fragment"></nav>-->

<!-- personal -->
<div id="app">
    <div class="self-info center">

        <!--         sidebar-->
        <div class="grzxdht">
            <div class="gr">
                <a href="center.html">个人资料</a>
            </div>
            <div class="gr">
                <a href="collect.html">我的收藏</a>
            </div>
            <div class="gr">
                <a class="hsys" href="follow.html">我的关注</a>
            </div>
            <!--					<div class="gr">-->
            <!--						<a href="wdfensi.html">我的粉丝</a>-->
            <!--					</div>-->
            <div class="gr">
                <a href="cart.html">我的购物车</a>
            </div>
            <div class="gr">
                <a href="my_orders.html">我的订单</a>
            </div>
            <!--					<div class="gr">-->
            <!--						<a href="wdzhixun.html">我的咨询</a>-->
            <!--					</div>-->
            <!--					<div class="gr">-->
            <!--						<a href="wdwujuan.html">我参与的问卷</a>-->
            <!--					</div>-->
            <div class="gr">
                <a href="xgmima.html">修改密码</a>
            </div>
            <div class="gr">
                <a href="javascript:loginout()">退出</a>
            </div>
        </div>

        <div class="intro fr">
            <div class="uc-box uc-main-box">
                <div class="uc-content-box order-view-box">
                    <div class="box-bd">
                        <div class="uc-order-item uc-order-item-pay">
                            <div class="order-detail">

                                <div class="order-summary">
                                    <div class="order-progress">
                                        <ol class="progress-list clearfix progress-list-5">
                                            <li class="step step-done">
                                                <div class="progress"><span class="text">购物车</span></div>
                                                <div class="info"></div>
                                            </li>
                                            <li class="step step-active">
                                                <div class="progress"><span class="text">下单</span></div>
                                                <div class="info"></div>
                                            </li>
                                            <li class="step">
                                                <div class="progress"><span class="text">付款</span></div>
                                                <div class="info"></div>
                                            </li>
                                            <li class="step">
                                                <div class="progress"><span class="text">出库</span></div>
                                                <div class="info"></div>
                                            </li>
                                            <li class="step">
                                                <div class="progress"><span class="text">交易成功</span></div>
                                                <div class="info"></div>
                                            </li>
                                        </ol>
                                    </div>
                                </div>
                                <table class="order-items-table">
                                    <tbody v-for="(cartList,index) in cartList">

                                    <!--                                    <th:block th:each="item : ${myShoppingCartItems} @{'/goods/detail/'+${item.goodsId}">-->
                                    <tr>
                                        <td class="col col-thumb">
                                            <div class="figure figure-thumb">
                                                <a target="_blank" href="#">
                                                    <img :src="cartList.productImg"
                                                         width="80" height="80" alt="">
                                                </a>
                                            </div>
                                        </td>
                                        <td class="col col-name">
                                            <p class="name">
                                                <a target="_blank" href="#">{{cartList.productName}}</a>
                                            </p>
                                        </td>
                                        <td class="col col-price"><p class="price">

                                            <!--                                                v-number="cartList.price+'元 x '+cartList.productCount"-->
                                            {{cartList.price}}元 × {{cartList.productCount}}</p></td>
                                        <td class="col col-actions">
                                        </td>
                                    </tr>
                                    <!--                                    </th:block>-->
                                    </tbody>
                                </table>
                            </div>
                            <div class="order-detail-info">
                                <div>
                                    <h3>收货信息</h3>
                                    <table class="info-table">
                                        <tbody v-for="item in aList">
                                        <tr>
                                            <th>联系人：</th>
                                            <td v-if="item.name == ''">请选择收货人</td>
                                            <td v-else-if="item.name != ''">{{item.name}} {{item.phoneNumber}}</td>
                                            <th></th>
                                            <th>收货地址：</th>
                                            <td class="user_address_label" v-if="item.detailAddress == null">暂无收货地址</td>
                                            <td v-else>{{item.province}} {{item.city}} {{item.region}}
                                                {{item.detailAddress}}
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <div class="actions">
                                        <a class="btn btn-small btn-line-gray J_editAddr"
                                           href="javascript:openUpdateModal();">修改</a>
                                    </div>
                                </div>
                            </div>
                            <div id="editTime" class="order-detail-info">
                                <h3>支付方式</h3>
                                <table class="info-table">
                                    <tbody>
                                    <tr>
                                        <th>支付方式：</th>
                                        <td>在线支付</td>
                                    </tr>
                                    </tbody>
                                </table>
                                <div class="actions">
                                </div>
                            </div>
                            <div class="order-detail-total">
                                <table class="total-table">
                                    <tbody>
                                    <tr>
                                        <th>商品总价：</th>
                                        <td><span class="num">{{item.totalAmount}}</span>元</td>
                                    </tr>
                                    <tr>
                                        <th>运费：</th>
                                        <td><span class="num">0</span>元</td>
                                    </tr>
                                    <tr>
                                        <th class="total">应付金额：</th>
                                        <td><span class="num">{{item.totalAmount}}.00</span>元</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="box-hd">
                                <h1 class="title">填写并核对订单信息</h1>
                                <div class="more clearfix">
                                    <div class="actions" v-for="(cartList,index) in cartList">
                                        <a id="saveOrder" @click="subOrder(cartList.userId)" class="btn btn-small btn-primary" title="提交订单">提交订单</a>
                                    </div>
                                </div>
                                <!--                        <div v-if="order == null" style="visibility: hidden">暂无订单号</div>-->
                                <!--                        <div style="float: left" v-else>订单号：{{order.orderNo}}</div>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="personalInfoModal" tabindex="-1" role="dialog"
             aria-labelledby="personalInfoModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h6 class="modal-title" id="personalInfoModalLabel">地址修改</h6>
                    </div>
                    <div class="modal-body">
                        <form id="personalInfoForm">
                            <div class="form-group">
                                <label class="control-label">姓名:</label>
                                <input type="text" class="form-control" id="name" name="address"
                                       placeholder="请输入收货人姓名" v-model="updateAddressList.name"
                                       required="true">
                                <label class="control-label">联系电话:</label>
                                <input type="text" class="form-control" id="phoneNumber" name="address"
                                       placeholder="请输入收货人联系电话" v-model="updateAddressList.phoneNumber"
                                       required="true">
                                <label class="control-label">省区:</label>
                                <input type="text" class="form-control" id="province" name="address"
                                       placeholder="请输入收货人所在的省区" v-model="updateAddressList.province"
                                       required="true">
                                <label class="control-label">城市:</label>
                                <input type="text" class="form-control" id="city" name="address"
                                       placeholder="请输入收货人所在的城市" v-model="updateAddressList.city"
                                       required="true">
                                <label class="control-label">地区:</label>
                                <input type="text" class="form-control" id="region" name="address"
                                       placeholder="请输入收货人所在的地区" v-model="updateAddressList.region"
                                       required="true">
                                <label class="control-label">详细地址:</label>
                                <input type="text" class="form-control" id="detailAddress" name="address"
                                       placeholder="请输入收货人所在的详细地址" v-model="updateAddressList.detailAddress"
                                       required="true">
                                <!--                                此处应该获取session中的userID-->
                                <input type="hidden" id="userId" v-model="updateAddressList.userId">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer" v-for="item in aList">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="button" class="btn btn-primary" @click="updateAddress(item.id)">确认</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="clear"></div>
    </div>
</div>


<!--<div th:replace="mall/footer::footer-fragment"></div>-->

<!-- jQuery -->
<!--<script src="../../js/jquery.js"></script>-->

<script src="../../css/admin/plugins/jquery/jquery.min.js"></script>
<script src="../../css/mall/js/search.js" type="text/javascript"></script>
<script src="../../css/admin/plugins/sweetalert/sweetalert.min.js"></script>
<script src="../../css/mall/js/bootstrap3.js"></script>

<script src="../../js/vue.js"></script>
<script src="../../js/md5.js"></script>
<script src="../../js/common.js"></script>
<script src="../../js/mall/cart.js"></script>
<!--<script src="../../js/mall/order_detail.js"></script>-->
<script type="text/javascript">
    function openUpdateModal() {
        $('#personalInfoModal').modal('show');
    }
</script>
</body>
</html>